((b,x)=>{let M,e={deg1:2,len1:7,showTime:12,multi:1.5,multiDom:null,border:null},n=b.innerWidth,o=b.innerHeight;function t(t){(M=this).options=Object.assign(e,t),M.init()}t.prototype={changeModel:function(t){M.options=Object.assign(M.options,t),x.getElementById("mouser-style").remove(),x.getElementById("mouser").remove(),M.init()},hexToRgb:function(t){return"rgb("+parseInt("0x"+t.slice(1,3))+","+parseInt("0x"+t.slice(3,5))+","+parseInt("0x"+t.slice(5,7))+")"},hexToRgba:function(t,e){return"rgba("+parseInt("0x"+t.slice(1,3))+","+parseInt("0x"+t.slice(3,5))+","+parseInt("0x"+t.slice(5,7))+","+e+")"},isCanvasBlank:function(t){var e=x.createElement("canvas");return e.width=t.width,e.height=t.height,t.toDataURL()==e.toDataURL()},isInDom:function(t,e=x.body,i=!0){if(i)return t!==e&&e.contains(t);e.getElementsByTagName(t).length},init:function(){var t=x.createElement("style"),t=(t.type="text/css",t.id="mouser-style",t.innerHTML="body{width:100vw;min-height:100vh;padding:0;margin:0;z-index:2002;}",x.getElementsByTagName("head").item(0).appendChild(t),x.createElement("canvas")),v=(t.id="mouser",t.style="position: fixed;top: 0;left: 0;width: 100%;height: 100%;z-index: 999;pointer-events: none;",x.body.appendChild(t),x.getElementById("mouser")),y=v.getContext("2d");v.width=n,v.height=o,v.clipContent=!1,b.addEventListener("resize",function(){n=b.innerWidth,o=b.innerHeight,v.width=n,v.height=o});{let n=[],o=v.width/2,r=v.height/2,a=0,s=0,c=2*Math.PI;let d=M.options.showTime,h=M.options.deg1,u=M.options.len1,m=o,w=r,l=1;x.body.addEventListener("mousemove",function(t){(1<Math.abs(o-t.clientX)||1<Math.abs(r-t.clientY))&&(o=t.clientX,r=t.clientY)});let p=[],g=[],f=[];for(let t=0;t<d;t++)p[t]=Math.round(127*Math.sin(.3*t+0)+128),g[t]=Math.round(127*Math.sin(.3*t+2)+128),f[t]=Math.round(127*Math.sin(.3*t+4)+128);var t=Math.min(v.width,v.height)/50,e=v.width/2+t*(16*Math.sin(0)*Math.sin(0)*Math.sin(0)),i=v.height-(v.height/2+t*(13*Math.cos(0)-5*Math.cos(0)-2*Math.cos(0)-Math.cos(0)));for(let t=0;t<d;t++)n.push({x:e,y:i});b.requestAnimationFrame(function t(){5==++s&&(a++,a%=d,s=0),v.width=b.innerWidth,v.height=b.innerHeight;for(let t=n.length-1;0<t;t--)n[t].x=n[t-1].x,n[t].y=n[t-1].y;1<=Math.abs(o-m)||1<=Math.abs(r-w)?l=6:(0<l&&l--,0==l&&(h-=.37431)<3.1415926&&(h+=6.2831852)),m=o,w=r,n[0].x=o,n[0].y=r,0==l&&(n[0].x+=u*Math.sin(h),n[0].y+=u*Math.cos(h)),y.lineWidth=7,y.strokeStyle="rgb("+p[a]+","+g[a]+","+f[a]+")",y.fillStyle="rgb("+p[a]+","+g[a]+","+f[a]+")",y.beginPath(),y.arc(n[0].x,n[0].y,3.5,0,c),y.fill(),y.beginPath(),y.moveTo(n[0].x,n[0].y);for(let t=0;t<n.length-2;t++){var e=(n[t].x+n[t+1].x)/2,i=(n[t].y+n[t+1].y)/2;y.quadraticCurveTo(n[t].x,n[t].y,e,i)}y.stroke(),y.beginPath(),y.arc(e,i,3.5,0,c),y.fill(),b.requestAnimationFrame(t)})}}},b.Mouser=t})(window,document);let mouser=new Mouser;var url=window.location.pathname,script;function getbbdata(){var bbsurl=bbShortApiUrl,httpRequest=new XMLHttpRequest;httpRequest.open("GET",bbsurl,!0),httpRequest.send(),httpRequest.onreadystatechange=function(){if(4==httpRequest.readyState&&200==httpRequest.status){var json=httpRequest.responseText,obj=eval("("+json+")");let bbArray=obj.data.map(t=>({date:t.date,content:t.content,from:t.from})),data=(saveToLocal.set("zhheo-bb",JSON.stringify(bbArray),5/1440),saveToLocal.get("zhheo-bb"));generateBBHtml(JSON.parse(data))}}}"dark"==document.getElementsByTagName("html")[0].getAttribute("data-darkreader-scheme")&&(script=document.createElement("script"),script.src="/pluginsSrc/node-snackbar/dist/snackbar.min.js?v=0.1.16",document.body.appendChild(script),Snackbar.show({pos:"top-center",text:"此网站提供深色模式，可将页面向下滑动后，在右下角设置按钮处打开。\n 如果你在使用 darkreader 请关闭",actionTextColor:"#ffff00",onActionClick:function(){"dark"!=document.getElementsByTagName("html")[0].getAttribute("data-darkreader-scheme")?Snackbar.show({pos:"top-center",text:"hello",actionTextColor:"#ffff00"}):Snackbar.show({pos:"top-center",text:"呜呜呜，快关了 darkreader 。",actionTextColor:"#ffff00"})}})),document.write(' <meta name="viewport" content="width=device-width, initial-scale=1" />'),document.write(""),document.write("    <style>"),document.write("      * {"),document.write("        box-sizing: border-box;"),document.write("      }"),document.write(""),document.write("      html,"),document.write("      body {"),document.write("        height: 100%;"),document.write("      }"),document.write(""),document.write("      body {"),document.write("        overflow: hidden;"),document.write("        display: grid;"),document.write("        color: white;"),document.write("        background: black;"),document.write("      }"),document.write("    </style>"),document.write("  </head>"),document.write("  <body>"),document.write("    <pointer-particles></pointer-particles>"),document.write(""),document.write("    <script>"),document.write("      class PointerParticle {"),document.write("        constructor(spread, speed, component) {"),document.write("          const { ctx, pointer, hue } = component;"),document.write(""),document.write("          this.ctx = ctx;"),document.write("          this.x = pointer.x;"),document.write("          this.y = pointer.y;"),document.write("          this.mx = pointer.mx * 0.1;"),document.write("          this.my = pointer.my * 0.1;"),document.write("          this.size = Math.random() + 1;"),document.write("          this.decay = 0.01;"),document.write("          this.speed = speed * 0.08;"),document.write("          this.spread = spread * this.speed;"),document.write("          this.spreadX = (Math.random() - 0.5) * this.spread - this.mx;"),document.write("          this.spreadY = (Math.random() - 0.5) * this.spread - this.my;"),document.write("          this.color = `hsl(${hue}deg 90% 60%)`;"),document.write("        }"),document.write(""),document.write("        draw() {"),document.write("          this.ctx.fillStyle = this.color;"),document.write("          this.ctx.beginPath();"),document.write("          this.ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);"),document.write("          this.ctx.fill();"),document.write("        }"),document.write(""),document.write("        collapse() {"),document.write("          this.size -= this.decay;"),document.write("        }"),document.write(""),document.write("        trail() {"),document.write("          this.x += this.spreadX * this.size;"),document.write("          this.y += this.spreadY * this.size;"),document.write("        }"),document.write(""),document.write("        update() {"),document.write("          this.draw();"),document.write("          this.trail();"),document.write("          this.collapse();"),document.write("        }"),document.write("      }"),document.write(""),document.write("      class PointerParticles extends HTMLElement {"),document.write("        static register(tag = 'pointer-particles') {"),document.write("          if ('customElements' in window) {"),document.write("            customElements.define(tag, this);"),document.write("          }"),document.write("        }"),document.write(""),document.write("        static css = `"),document.write("    :host {"),document.write("      display: grid;"),document.write("      width: 100%;"),document.write("      height: 100%;"),document.write("      pointer-events: none;"),document.write("    }"),document.write("  `;"),document.write(""),document.write("        constructor() {"),document.write("          super();"),document.write(""),document.write("          this.canvas;"),document.write("          this.ctx;"),document.write("          this.fps = 60;"),document.write("          this.msPerFrame = 1000 / this.fps;"),document.write("          this.timePrevious;"),document.write("          this.particles = [];"),document.write("          this.pointer = {"),document.write("            x: 0,"),document.write("            y: 0,"),document.write("            mx: 0,"),document.write("            my: 0,"),document.write("          };"),document.write("          this.hue = 0;"),document.write("        }"),document.write(""),document.write("        connectedCallback() {"),document.write("          const canvas = document.createElement('canvas');"),document.write("          const sheet = new CSSStyleSheet();"),document.write(""),document.write("          this.shadowroot = this.attachShadow({ mode: 'open' });"),document.write(""),document.write("          sheet.replaceSync(PointerParticles.css);"),document.write("          this.shadowroot.adoptedStyleSheets = [sheet];"),document.write(""),document.write("          this.shadowroot.append(canvas);"),document.write(""),document.write("          this.canvas = this.shadowroot.querySelector('canvas');"),document.write("          this.ctx = this.canvas.getContext('2d');"),document.write("          this.setCanvasDimensions();"),document.write("          this.setupEvents();"),document.write("          this.timePrevious = performance.now();"),document.write("          this.animateParticles();"),document.write("        }"),document.write(""),document.write("        createParticles(event, { count, speed, spread }) {"),document.write("          this.setPointerValues(event);"),document.write(""),document.write("          for (let i = 0; i < count; i++) {"),document.write("            this.particles.push(new PointerParticle(spread, speed, this));"),document.write("          }"),document.write("        }"),document.write(""),document.write("        setPointerValues(event) {"),document.write("          this.pointer.x = event.x - this.offsetLeft;"),document.write("          this.pointer.y = event.y - this.offsetTop;"),document.write("          this.pointer.mx = event.movementX;"),document.write("          this.pointer.my = event.movementY;"),document.write("        }"),document.write(""),document.write("        setupEvents() {"),document.write("          const parent = this.parentNode;"),document.write(""),document.write("          parent.addEventListener('click', (event) => {"),document.write("            this.createParticles(event, {"),document.write("              count: 300,"),document.write("              speed: Math.random() + 1,"),document.write("              spread: Math.random() + 50,"),document.write("            });"),document.write("          });"),document.write(""),document.write("          parent.addEventListener('pointermove', (event) => {"),document.write("            this.createParticles(event, {"),document.write("              count: 20,"),document.write("              speed: this.getPointerVelocity(event),"),document.write("              spread: 1,"),document.write("            });"),document.write("          });"),document.write(""),document.write("          window.addEventListener('resize', () => this.setCanvasDimensions());"),document.write("        }"),document.write(""),document.write("        getPointerVelocity(event) {"),document.write("          const a = event.movementX;"),document.write("          const b = event.movementY;"),document.write("          const c = Math.floor(Math.sqrt(a * a + b * b));"),document.write(""),document.write("          return c;"),document.write("        }"),document.write(""),document.write("        handleParticles() {"),document.write("          for (let i = 0; i < this.particles.length; i++) {"),document.write("            this.particles[i].update();"),document.write(""),document.write("            if (this.particles[i].size <= 0.1) {"),document.write("              this.particles.splice(i, 1);"),document.write("              i--;"),document.write("            }"),document.write("          }"),document.write("        }"),document.write(""),document.write("        setCanvasDimensions() {"),document.write("          const rect = this.parentNode.getBoundingClientRect();"),document.write(""),document.write("          this.canvas.width = rect.width;"),document.write("          this.canvas.height = rect.height;"),document.write("        }"),document.write(""),document.write("        animateParticles() {"),document.write("          requestAnimationFrame(() => this.animateParticles());"),document.write(""),document.write("          const timeNow = performance.now();"),document.write("          const timePassed = timeNow - this.timePrevious;"),document.write(""),document.write("          if (timePassed < this.msPerFrame) return;"),document.write(""),document.write("          const excessTime = timePassed % this.msPerFrame;"),document.write(""),document.write("          this.timePrevious = timeNow - excessTime;"),document.write(""),document.write("          this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);"),document.write("          this.hue = this.hue > 360 ? 0 : (this.hue += 3);"),document.write(""),document.write("          this.handleParticles();"),document.write("        }"),document.write("      }"),document.write(""),document.write("      PointerParticles.register();"),document.write("    <\/script>"),document.write("  </body>"),document.write("<html>");var generateBBHtml=e=>{var t=document.querySelector("#bber-talk"),i="";if(e.length)for(let t=0;t<e.length;t++)i+=`<div class='li-style swiper-slide'>${e[t].content.replace(/(https?:[^:<>"]*\/)([^:<>"]*)(\.((png!thumbnail)|(png)|(jpg)|(webp)|(jpeg)|(gif)))/g," [图片] ")}</div>`;else i+='!{_p("aside.card_funds.zero")}';(t=document.querySelector("#bber-talk")).innerHTML=i,window.lazyLoadInstance&&window.lazyLoadInstance.update(),window.pjax&&window.pjax.refresh(t),new Swiper(".swiper-container",{direction:"vertical",loop:!0,autoplay:{delay:3e3,disableOnInteraction:!0,pauseOnMouseEnter:!0}})},bbInit=()=>{var t;document.querySelector("#bber-talk")&&((t=saveToLocal.get("zhheo-bb"))?generateBBHtml(JSON.parse(t)):getbbdata())};bbInit(),document.addEventListener("pjax:complete",bbInit);let rmf={showRightMenu:function(t,e,i){var n=$("#rightMenu");n.hide(),n.css("top",e+"px").css("left",i+"px"),t?n.show():n.hide()},switchDarkMode:function(){"light"==("dark"===document.documentElement.getAttribute("data-theme")?"dark":"light")?(activateDarkMode(),saveToLocal.set("theme","dark",2),void 0!==GLOBAL_CONFIG.Snackbar&&btf.snackbarShow(GLOBAL_CONFIG.Snackbar.day_to_night)):(activateLightMode(),saveToLocal.set("theme","light",2),void 0!==GLOBAL_CONFIG.Snackbar&&btf.snackbarShow(GLOBAL_CONFIG.Snackbar.night_to_day)),"function"==typeof utterancesTheme&&utterancesTheme(),"object"==typeof FB&&window.loadFBComment(),window.DISQUS&&document.getElementById("disqus_thread").children.length&&setTimeout(()=>window.disqusReset(),200)},switchReadMode:function(){let e=document.body,i=(e.classList.add("read-mode"),document.createElement("button"));i.type="button",i.className="fas fa-sign-out-alt exit-readmode",e.appendChild(i),i.addEventListener("click",function t(){e.classList.remove("read-mode"),i.remove(),i.removeEventListener("click",t)})},copySelect:function(){document.execCommand("Copy",!1,null)},scrollToTop:function(){btf.scrollToDest(0,500)}},pageX,pageY;navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)||(window.oncontextmenu=function(t){$(".rightMenu-group.hide").hide(),document.getSelection().toString()&&$("#menu-text").show(),pageX=t.clientX+10,pageY=t.clientY;var t=$("#rightMenu").width(),e=$("#rightMenu").height();return pageX+t>window.innerWidth&&(pageX-=t+10),pageY+e>window.innerHeight&&(pageY-=pageY+e-window.innerHeight),rmf.showRightMenu(!0,pageY,pageX),!1},window.addEventListener("click",function(){rmf.showRightMenu(!1,pageX,pageY)}));var nnnnew=document.createElement("div");function dark(){window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;var n,o,t,r,e=document.getElementById("universe"),i=!0,a="226,225,224",s=[];function c(){n=window.innerWidth,o=window.innerHeight,t=.216*n,e.setAttribute("width",n),e.setAttribute("height",o)}function d(){r.clearRect(0,0,n,o);for(var t=s.length,e=0;e<t;e++){var i=s[e];i.move(),i.fadeIn(),i.fadeOut(),i.draw()}}function h(){this.reset=function(){this.giant=u(3),this.comet=!this.giant&&!i&&u(10),this.x=m(0,n-10),this.y=m(0,o),this.r=m(1.1,2.6),this.dx=m(.05,6*.05)+.05*(this.comet+1-1)*m(50,120)+.1,this.dy=-m(.05,6*.05)-.05*(this.comet+1-1)*m(50,120),this.fadingOut=null,this.fadingIn=!0,this.opacity=0,this.opacityTresh=m(.2,1-.4*(this.comet+1-1)),this.do=m(5e-4,.002)+.001*(this.comet+1-1)},this.fadeIn=function(){this.fadingIn&&(this.fadingIn=!(this.opacity>this.opacityTresh),this.opacity+=this.do)},this.fadeOut=function(){this.fadingOut&&(this.fadingOut=!(this.opacity<0),this.opacity-=this.do/2,this.x>n||this.y<0)&&(this.fadingOut=!1,this.reset())},this.draw=function(){if(r.beginPath(),this.giant)r.fillStyle="rgba(180,184,240,"+this.opacity+")",r.arc(this.x,this.y,2,0,2*Math.PI,!1);else if(this.comet){r.fillStyle="rgba("+a+","+this.opacity+")",r.arc(this.x,this.y,1.5,0,2*Math.PI,!1);for(var t=0;t<30;t++)r.fillStyle="rgba("+a+","+(this.opacity-this.opacity/20*t)+")",r.rect(this.x-this.dx/4*t,this.y-this.dy/4*t-2,2,2),r.fill()}else r.fillStyle="rgba(226,225,142,"+this.opacity+")",r.rect(this.x,this.y,this.r,this.r);r.closePath(),r.fill()},this.move=function(){this.x+=this.dx,this.y+=this.dy,!1===this.fadingOut&&this.reset(),(this.x>n-n/4||this.y<0)&&(this.fadingOut=!0)},setTimeout(function(){i=!1},50)}function u(t){return Math.floor(1e3*Math.random())+1<10*t}function m(t,e){return Math.random()*(e-t)+t}c(),window.addEventListener("resize",c,!1),r=e.getContext("2d");for(var w=0;w<t;w++)s[w]=new h,s[w].reset();d(),function t(){"dark"==document.getElementsByTagName("html")[0].getAttribute("data-theme")&&d(),window.requestAnimationFrame(t)}()}nnnnew.setAttribute("id","rightMenu"),nnnnew.setAttribute("style","display: none"),nnnnew.innerHTML='<div class="rightMenu-group rightMenu-small"><a class="rightMenu-item" href="javascript:window.history.back();" data-pjax-state=""><i class="fa-solid fa-arrow-left"></i> </a><a class="rightMenu-item" href="javascript:window.location.reload();" data-pjax-state=""><i class="fa-solid fa-arrow-rotate-right"></i> </a><a class="rightMenu-item" href="javascript:window.history.forward();" data-pjax-state=""><i class="fa-solid fa-arrow-right"></i> </a><a class="rightMenu-item" id="menu-radompage" href="javascript:window.location.href = window.location.origin;" data-pjax-state=""><i class="fa-solid fa-house"></i></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-text" style="display:none"><a class="rightMenu-item" href="javascript:rmf.copySelect();" data-pjax-state=""><i class="fa-solid fa-copy"></i> <span>复制</span></a></div><div class="rightMenu-group rightMenu-line"><a class="rightMenu-item" href="javascript:rmf.switchDarkMode();" data-pjax-state=""><i class="fa-solid fa-circle-half-stroke"></i> <span>昼夜模式</span></a></div><div class="rightMenu-group rightMenu-line"><a class="rightMenu-item" href="javascript:window.location.href = window.location.origin + \'/categories/\';" data-pjax-state=""><i class="fa-solid fa-book"></i> <span>博客分类</span> </a><a class="rightMenu-item" href="javascript:window.location.href = window.location.origin + \'/tags/\';" data-pjax-state=""><i class="fa-solid fa-tags"></i> <span>博客标签</span></a></div><div class="rightMenu-group rightMenu-line"><a class="rightMenu-item" href="javascript:window.location.href = window.location.origin + \'/about-website/\';" data-pjax-state=""><i class="fa-solid fa-envelope-open-text"></i> <span>网站声明</span></a></div><div class="rightMenu-group rightMenu-line"><a class="rightMenu-item" href="javascript:window.location.reload(true);" data-pjax-state=""><i class="fa-solid fa-arrow-rotate-right"></i> <span>ctrl + F5</span></a></div>',document.body.appendChild(nnnnew),dark();