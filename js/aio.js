((v,M)=>{let x,e={deg1:2,len1:5,showTime:12,multi:1.5,multiDom:null,border:null},n=v.innerWidth,a=v.innerHeight;function t(t){(x=this).options=Object.assign(e,t),x.init()}t.prototype={changeModel:function(t){x.options=Object.assign(x.options,t),M.getElementById("mouser-style").remove(),M.getElementById("mouser").remove(),x.init()},hexToRgb:function(t){return"rgb("+parseInt("0x"+t.slice(1,3))+","+parseInt("0x"+t.slice(3,5))+","+parseInt("0x"+t.slice(5,7))+")"},hexToRgba:function(t,e){return"rgba("+parseInt("0x"+t.slice(1,3))+","+parseInt("0x"+t.slice(3,5))+","+parseInt("0x"+t.slice(5,7))+","+e+")"},isCanvasBlank:function(t){var e=M.createElement("canvas");return e.width=t.width,e.height=t.height,t.toDataURL()==e.toDataURL()},isInDom:function(t,e=M.body,i=!0){if(i)return t!==e&&e.contains(t);e.getElementsByTagName(t).length},init:function(){var t=M.createElement("style"),t=(t.type="text/css",t.id="mouser-style",t.innerHTML="body{width:100vw;min-height:100vh;padding:0;margin:0;z-index:2002;}",M.getElementsByTagName("head").item(0).appendChild(t),M.createElement("canvas")),b=(t.id="mouser",t.style="position: fixed;top: 0;left: 0;width: 100%;height: 100%;z-index: 999;pointer-events: none;",M.body.appendChild(t),M.getElementById("mouser")),y=b.getContext("2d");b.width=n,b.height=a,b.clipContent=!1,v.addEventListener("resize",function(){n=v.innerWidth,a=v.innerHeight,b.width=n,b.height=a});{let n=[],a=b.width/2,o=b.height/2,s=0,r=0,d=2*Math.PI;let h=x.options.showTime,c=x.options.deg1,l=x.options.len1,u=a,g=o,p=1;M.body.addEventListener("mousemove",function(t){(1<Math.abs(a-t.clientX)||1<Math.abs(o-t.clientY))&&(a=t.clientX,o=t.clientY)});let m=[],f=[],w=[];for(let t=0;t<h;t++)m[t]=Math.round(17*Math.sin(.3*t+0)*2+221),f[t]=Math.round(-1*Math.sin(.3*t+2)*17*2+221),w[t]=Math.round(17*Math.sin(.3*t+0)/3);var t=Math.min(b.width,b.height)/50,e=b.width/2+t*(16*Math.sin(0)*Math.sin(0)*Math.sin(0)),i=b.height-(b.height/2+t*(13*Math.cos(0)-5*Math.cos(0)-2*Math.cos(0)-Math.cos(0)));for(let t=0;t<h;t++)n.push({x:e,y:i});v.requestAnimationFrame(function t(){5==++r&&(s++,s%=h,r=0),b.width=v.innerWidth,b.height=v.innerHeight;for(let t=n.length-1;0<t;t--)n[t].x=n[t-1].x,n[t].y=n[t-1].y;1<=Math.abs(a-u)||1<=Math.abs(o-g)?p=6:(0<p&&p--,0==p&&(c-=.37431)<3.1415926&&(c+=6.2831852)),u=a,g=o,n[0].x=a,n[0].y=o,0==p&&(n[0].x+=l*Math.sin(c),n[0].y+=l*Math.cos(c)),y.lineWidth=5,y.strokeStyle="rgb("+m[s]+","+f[s]+","+w[s]+")",y.fillStyle="rgb("+m[s]+","+f[s]+","+w[s]+")",y.beginPath(),y.arc(n[0].x,n[0].y,2.5,0,d),y.fill(),y.beginPath(),y.moveTo(n[0].x,n[0].y);for(let t=0;t<n.length-2;t++){var e=(n[t].x+n[t+1].x)/2,i=(n[t].y+n[t+1].y)/2;y.quadraticCurveTo(n[t].x,n[t].y,e,i)}y.stroke(),y.beginPath(),y.arc(e,i,2.5,0,d),y.fill(),v.requestAnimationFrame(t)})}}},v.Mouser=t})(window,document);let mouser=new Mouser;var url=window.location.pathname,script;function getbbdata(){var bbsurl=bbShortApiUrl,httpRequest=new XMLHttpRequest;httpRequest.open("GET",bbsurl,!0),httpRequest.send(),httpRequest.onreadystatechange=function(){if(4==httpRequest.readyState&&200==httpRequest.status){var json=httpRequest.responseText,obj=eval("("+json+")");let bbArray=obj.data.map(t=>({date:t.date,content:t.content,from:t.from})),data=(saveToLocal.set("zhheo-bb",JSON.stringify(bbArray),5/1440),saveToLocal.get("zhheo-bb"));generateBBHtml(JSON.parse(data))}}}"dark"==document.getElementsByTagName("html")[0].getAttribute("data-darkreader-scheme")&&(script=document.createElement("script"),script.src="/pluginsSrc/node-snackbar/dist/snackbar.min.js?v=0.1.16",document.body.appendChild(script),Snackbar.show({pos:"top-center",text:"此网站提供深色模式，可将页面向下滑动后，在右下角设置按钮处打开。\n 如果你在使用 darkreader 请关闭",actionTextColor:"#ffff00",onActionClick:function(){"dark"!=document.getElementsByTagName("html")[0].getAttribute("data-darkreader-scheme")?Snackbar.show({pos:"top-center",text:"hello",actionTextColor:"#ffff00"}):Snackbar.show({pos:"top-center",text:"呜呜呜，快关了 darkreader 。",actionTextColor:"#ffff00"})}}));var generateBBHtml=e=>{var t=document.querySelector("#bber-talk"),i="";if(e.length)for(let t=0;t<e.length;t++)i+=`<div class='li-style swiper-slide'>${e[t].content.replace(/(https?:[^:<>"]*\/)([^:<>"]*)(\.((png!thumbnail)|(png)|(jpg)|(webp)|(jpeg)|(gif)))/g," [图片] ")}</div>`;else i+='!{_p("aside.card_funds.zero")}';(t=document.querySelector("#bber-talk")).innerHTML=i,window.lazyLoadInstance&&window.lazyLoadInstance.update(),window.pjax&&window.pjax.refresh(t),new Swiper(".swiper-container",{direction:"vertical",loop:!0,autoplay:{delay:3e3,disableOnInteraction:!0,pauseOnMouseEnter:!0}})},bbInit=()=>{var t;document.querySelector("#bber-talk")&&((t=saveToLocal.get("zhheo-bb"))?generateBBHtml(JSON.parse(t)):getbbdata())};bbInit(),document.addEventListener("pjax:complete",bbInit);let rmf={showRightMenu:function(t,e,i){var n=$("#rightMenu");n.hide(),n.css("top",e+"px").css("left",i+"px"),t?n.show():n.hide()},switchDarkMode:function(){"light"==("dark"===document.documentElement.getAttribute("data-theme")?"dark":"light")?(activateDarkMode(),saveToLocal.set("theme","dark",2),void 0!==GLOBAL_CONFIG.Snackbar&&btf.snackbarShow(GLOBAL_CONFIG.Snackbar.day_to_night)):(activateLightMode(),saveToLocal.set("theme","light",2),void 0!==GLOBAL_CONFIG.Snackbar&&btf.snackbarShow(GLOBAL_CONFIG.Snackbar.night_to_day)),"function"==typeof utterancesTheme&&utterancesTheme(),"object"==typeof FB&&window.loadFBComment(),window.DISQUS&&document.getElementById("disqus_thread").children.length&&setTimeout(()=>window.disqusReset(),200)},switchReadMode:function(){let e=document.body,i=(e.classList.add("read-mode"),document.createElement("button"));i.type="button",i.className="fas fa-sign-out-alt exit-readmode",e.appendChild(i),i.addEventListener("click",function t(){e.classList.remove("read-mode"),i.remove(),i.removeEventListener("click",t)})},copySelect:function(){document.execCommand("Copy",!1,null)},scrollToTop:function(){btf.scrollToDest(0,500)}},pageX,pageY;navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)||(window.oncontextmenu=function(t){$(".rightMenu-group.hide").hide(),document.getSelection().toString()&&$("#menu-text").show(),pageX=t.clientX+10,pageY=t.clientY;var t=$("#rightMenu").width(),e=$("#rightMenu").height();return pageX+t>window.innerWidth&&(pageX-=t+10),pageY+e>window.innerHeight&&(pageY-=pageY+e-window.innerHeight),rmf.showRightMenu(!0,pageY,pageX),!1},window.addEventListener("click",function(){rmf.showRightMenu(!1,pageX,pageY)}));var nnnnew=document.createElement("div");function dark(){window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;var n,a,t,o,e=document.getElementById("universe"),i=!0,s="226,225,224",r=[];function d(){n=window.innerWidth,a=window.innerHeight,t=.216*n,e.setAttribute("width",n),e.setAttribute("height",a)}function h(){o.clearRect(0,0,n,a);for(var t=r.length,e=0;e<t;e++){var i=r[e];i.move(),i.fadeIn(),i.fadeOut(),i.draw()}}function c(){this.reset=function(){this.giant=l(3),this.comet=!this.giant&&!i&&l(10),this.x=u(0,n-10),this.y=u(0,a),this.r=u(1.1,2.6),this.dx=u(.05,6*.05)+.05*(this.comet+1-1)*u(50,120)+.1,this.dy=-u(.05,6*.05)-.05*(this.comet+1-1)*u(50,120),this.fadingOut=null,this.fadingIn=!0,this.opacity=0,this.opacityTresh=u(.2,1-.4*(this.comet+1-1)),this.do=u(5e-4,.002)+.001*(this.comet+1-1)},this.fadeIn=function(){this.fadingIn&&(this.fadingIn=!(this.opacity>this.opacityTresh),this.opacity+=this.do)},this.fadeOut=function(){this.fadingOut&&(this.fadingOut=!(this.opacity<0),this.opacity-=this.do/2,this.x>n||this.y<0)&&(this.fadingOut=!1,this.reset())},this.draw=function(){if(o.beginPath(),this.giant)o.fillStyle="rgba(180,184,240,"+this.opacity+")",o.arc(this.x,this.y,2,0,2*Math.PI,!1);else if(this.comet){o.fillStyle="rgba("+s+","+this.opacity+")",o.arc(this.x,this.y,1.5,0,2*Math.PI,!1);for(var t=0;t<30;t++)o.fillStyle="rgba("+s+","+(this.opacity-this.opacity/20*t)+")",o.rect(this.x-this.dx/4*t,this.y-this.dy/4*t-2,2,2),o.fill()}else o.fillStyle="rgba(226,225,142,"+this.opacity+")",o.rect(this.x,this.y,this.r,this.r);o.closePath(),o.fill()},this.move=function(){this.x+=this.dx,this.y+=this.dy,!1===this.fadingOut&&this.reset(),(this.x>n-n/4||this.y<0)&&(this.fadingOut=!0)},setTimeout(function(){i=!1},50)}function l(t){return Math.floor(1e3*Math.random())+1<10*t}function u(t,e){return Math.random()*(e-t)+t}d(),window.addEventListener("resize",d,!1),o=e.getContext("2d");for(var g=0;g<t;g++)r[g]=new c,r[g].reset();h(),function t(){"dark"==document.getElementsByTagName("html")[0].getAttribute("data-theme")&&h(),window.requestAnimationFrame(t)}()}nnnnew.setAttribute("id","rightMenu"),nnnnew.setAttribute("style","display: none"),nnnnew.innerHTML='<div class="rightMenu-group rightMenu-small"><a class="rightMenu-item" href="javascript:window.history.back();" data-pjax-state=""><i class="fa-solid fa-arrow-left"></i> </a><a class="rightMenu-item" href="javascript:window.location.reload();" data-pjax-state=""><i class="fa-solid fa-arrow-rotate-right"></i> </a><a class="rightMenu-item" href="javascript:window.history.forward();" data-pjax-state=""><i class="fa-solid fa-arrow-right"></i> </a><a class="rightMenu-item" id="menu-radompage" href="javascript:window.location.href = window.location.origin;" data-pjax-state=""><i class="fa-solid fa-house"></i></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-text" style="display:none"><a class="rightMenu-item" href="javascript:rmf.copySelect();" data-pjax-state=""><i class="fa-solid fa-copy"></i> <span>复制</span></a></div><div class="rightMenu-group rightMenu-line"><a class="rightMenu-item" href="javascript:rmf.switchDarkMode();" data-pjax-state=""><i class="fa-solid fa-circle-half-stroke"></i> <span>昼夜模式</span></a></div><div class="rightMenu-group rightMenu-line"><a class="rightMenu-item" href="javascript:window.location.href = window.location.origin + \'/special/categories/\';" data-pjax-state=""><i class="fa-solid fa-book"></i> <span>博客分类</span> </a><a class="rightMenu-item" href="javascript:window.location.href = window.location.origin + \'/special/tags/\';" data-pjax-state=""><i class="fa-solid fa-tags"></i> <span>博客标签</span></a></div><div class="rightMenu-group rightMenu-line"><a class="rightMenu-item" href="javascript:window.location.href = window.location.origin + \'/about-website/\';" data-pjax-state=""><i class="fa-solid fa-envelope-open-text"></i> <span>网站声明</span></a></div><div class="rightMenu-group rightMenu-line"><a class="rightMenu-item" href="javascript:window.location.reload(true);" data-pjax-state=""><i class="fa-solid fa-arrow-rotate-right"></i> <span>ctrl + F5</span></a></div>',document.body.appendChild(nnnnew),document.addEventListener("keydown",function(e){if(e.ctrlKey&&e.altKey&&"i"===e.key){var e=document.createElement("botton"),i=(e.setAttribute("id","rotate"),e.setAttribute("type","botton"),e.setAttribute("title","旋转"),document.getElementById("rightside-config-show").appendChild(e),document.createElement("i"));i.setAttribute("class","fa-solid fa-rotate-right"),e.appendChild(i);let t=!1;var n=document.createElement("div");document.body.appendChild(n),e.onclick=function(){t=!1===t?(n.innerHTML='<link rel="stylesheet" href="/library/css/rotate.css">',!0):(n.innerHTML="",!1)}}}),dark();