((f,v)=>{let w,t={deg1:2,len1:7,showTime:12,multi:1.5,multiDom:null,border:null},i=f.innerWidth,o=f.innerHeight;function e(e){(w=this).options=Object.assign(t,e),w.init()}e.prototype={changeModel:function(e){w.options=Object.assign(w.options,e),v.getElementById("mouser-style").remove(),v.getElementById("mouser").remove(),w.init()},hexToRgb:function(e){return"rgb("+parseInt("0x"+e.slice(1,3))+","+parseInt("0x"+e.slice(3,5))+","+parseInt("0x"+e.slice(5,7))+")"},hexToRgba:function(e,t){return"rgba("+parseInt("0x"+e.slice(1,3))+","+parseInt("0x"+e.slice(3,5))+","+parseInt("0x"+e.slice(5,7))+","+t+")"},isCanvasBlank:function(e){var t=v.createElement("canvas");return t.width=e.width,t.height=e.height,e.toDataURL()==t.toDataURL()},isInDom:function(e,t=v.body,n=!0){if(n)return e!==t&&t.contains(e);t.getElementsByTagName(e).length},init:function(){var e=v.createElement("style"),e=(e.type="text/css",e.id="mouser-style",e.innerHTML="body{width:100vw;min-height:100vh;padding:0;margin:0;z-index:2002;}",v.getElementsByTagName("head").item(0).appendChild(e),v.createElement("canvas")),x=(e.id="mouser",e.style="position: fixed;top: 0;left: 0;width: 100%;height: 100%;z-index: 999;pointer-events: none;",v.body.appendChild(e),v.getElementById("mouser")),b=x.getContext("2d");x.width=i,x.height=o,x.clipContent=!1,f.addEventListener("resize",function(){i=f.innerWidth,o=f.innerHeight,x.width=i,x.height=o});{let i=[],o=x.width/2,a=x.height/2,h=0,s=0,r=2*Math.PI;let l=w.options.showTime,d=w.options.deg1,g=w.options.len1,c=o,m=a,u=1;v.body.addEventListener("mousemove",function(e){(1<Math.abs(o-e.clientX)||1<Math.abs(a-e.clientY))&&(o=e.clientX,a=e.clientY)});let y=[],p=[],M=[];for(let e=0;e<l;e++)y[e]=Math.round(127*Math.sin(.3*e+0)+128),p[e]=Math.round(127*Math.sin(.3*e+2)+128),M[e]=Math.round(127*Math.sin(.3*e+4)+128);var e=Math.min(x.width,x.height)/50,t=x.width/2+e*(16*Math.sin(0)*Math.sin(0)*Math.sin(0)),n=x.height-(x.height/2+e*(13*Math.cos(0)-5*Math.cos(0)-2*Math.cos(0)-Math.cos(0)));for(let e=0;e<l;e++)i.push({x:t,y:n});f.requestAnimationFrame(function e(){5==++s&&(h++,h%=l,s=0),x.width=f.innerWidth,x.height=f.innerHeight;for(let e=i.length-1;0<e;e--)i[e].x=i[e-1].x,i[e].y=i[e-1].y;1<=Math.abs(o-c)||1<=Math.abs(a-m)?u=6:(0<u&&u--,0==u&&(d-=.37431)<3.1415926&&(d+=6.2831852)),c=o,m=a,i[0].x=o,i[0].y=a,0==u&&(i[0].x+=g*Math.sin(d),i[0].y+=g*Math.cos(d)),b.lineWidth=7,b.strokeStyle="rgb("+y[h]+","+p[h]+","+M[h]+")",b.fillStyle="rgb("+y[h]+","+p[h]+","+M[h]+")",b.beginPath(),b.arc(i[0].x,i[0].y,3.5,0,r),b.fill(),b.beginPath(),b.moveTo(i[0].x,i[0].y);for(let e=0;e<i.length-2;e++){var t=(i[e].x+i[e+1].x)/2,n=(i[e].y+i[e+1].y)/2;b.quadraticCurveTo(i[e].x,i[e].y,t,n)}b.stroke(),b.beginPath(),b.arc(t,n,3.5,0,r),b.fill(),f.requestAnimationFrame(e)})}}},f.Mouser=e})(window,document);let mouser=new Mouser;
var script,url=window.location.pathname;"dark"==document.getElementsByTagName("html")[0].getAttribute("data-darkreader-scheme")&&((script=document.createElement("script")).src="/pluginsSrc/node-snackbar/dist/snackbar.min.js?v=0.1.16",document.body.appendChild(script),Snackbar.show({pos:"top-center",text:"此网站提供深色模式，可将页面向下滑动后，在右下角设置按钮处打开。\n 如果你在使用 darkreader 请关闭",actionTextColor:"#ffff00",onActionClick:function(){"dark"!=document.getElementsByTagName("html")[0].getAttribute("data-darkreader-scheme")?Snackbar.show({pos:"top-center",text:"hello",actionTextColor:"#ffff00"}):Snackbar.show({pos:"top-center",text:"呜呜呜，快关了 darkreader 。",actionTextColor:"#ffff00"})}}));
document.write(' <meta name="viewport" content="width=device-width, initial-scale=1" />'),document.write(""),document.write("    <style>"),document.write("      * {"),document.write("        box-sizing: border-box;"),document.write("      }"),document.write(""),document.write("      html,"),document.write("      body {"),document.write("        height: 100%;"),document.write("      }"),document.write(""),document.write("      body {"),document.write("        overflow: hidden;"),document.write("        display: grid;"),document.write("        color: white;"),document.write("        background: black;"),document.write("      }"),document.write("    </style>"),document.write("  </head>"),document.write("  <body>"),document.write("    <pointer-particles></pointer-particles>"),document.write(""),document.write("    <script>"),document.write("      class PointerParticle {"),document.write("        constructor(spread, speed, component) {"),document.write("          const { ctx, pointer, hue } = component;"),document.write(""),document.write("          this.ctx = ctx;"),document.write("          this.x = pointer.x;"),document.write("          this.y = pointer.y;"),document.write("          this.mx = pointer.mx * 0.1;"),document.write("          this.my = pointer.my * 0.1;"),document.write("          this.size = Math.random() + 1;"),document.write("          this.decay = 0.01;"),document.write("          this.speed = speed * 0.08;"),document.write("          this.spread = spread * this.speed;"),document.write("          this.spreadX = (Math.random() - 0.5) * this.spread - this.mx;"),document.write("          this.spreadY = (Math.random() - 0.5) * this.spread - this.my;"),document.write("          this.color = `hsl(${hue}deg 90% 60%)`;"),document.write("        }"),document.write(""),document.write("        draw() {"),document.write("          this.ctx.fillStyle = this.color;"),document.write("          this.ctx.beginPath();"),document.write("          this.ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);"),document.write("          this.ctx.fill();"),document.write("        }"),document.write(""),document.write("        collapse() {"),document.write("          this.size -= this.decay;"),document.write("        }"),document.write(""),document.write("        trail() {"),document.write("          this.x += this.spreadX * this.size;"),document.write("          this.y += this.spreadY * this.size;"),document.write("        }"),document.write(""),document.write("        update() {"),document.write("          this.draw();"),document.write("          this.trail();"),document.write("          this.collapse();"),document.write("        }"),document.write("      }"),document.write(""),document.write("      class PointerParticles extends HTMLElement {"),document.write("        static register(tag = 'pointer-particles') {"),document.write("          if ('customElements' in window) {"),document.write("            customElements.define(tag, this);"),document.write("          }"),document.write("        }"),document.write(""),document.write("        static css = `"),document.write("    :host {"),document.write("      display: grid;"),document.write("      width: 100%;"),document.write("      height: 100%;"),document.write("      pointer-events: none;"),document.write("    }"),document.write("  `;"),document.write(""),document.write("        constructor() {"),document.write("          super();"),document.write(""),document.write("          this.canvas;"),document.write("          this.ctx;"),document.write("          this.fps = 60;"),document.write("          this.msPerFrame = 1000 / this.fps;"),document.write("          this.timePrevious;"),document.write("          this.particles = [];"),document.write("          this.pointer = {"),document.write("            x: 0,"),document.write("            y: 0,"),document.write("            mx: 0,"),document.write("            my: 0,"),document.write("          };"),document.write("          this.hue = 0;"),document.write("        }"),document.write(""),document.write("        connectedCallback() {"),document.write("          const canvas = document.createElement('canvas');"),document.write("          const sheet = new CSSStyleSheet();"),document.write(""),document.write("          this.shadowroot = this.attachShadow({ mode: 'open' });"),document.write(""),document.write("          sheet.replaceSync(PointerParticles.css);"),document.write("          this.shadowroot.adoptedStyleSheets = [sheet];"),document.write(""),document.write("          this.shadowroot.append(canvas);"),document.write(""),document.write("          this.canvas = this.shadowroot.querySelector('canvas');"),document.write("          this.ctx = this.canvas.getContext('2d');"),document.write("          this.setCanvasDimensions();"),document.write("          this.setupEvents();"),document.write("          this.timePrevious = performance.now();"),document.write("          this.animateParticles();"),document.write("        }"),document.write(""),document.write("        createParticles(event, { count, speed, spread }) {"),document.write("          this.setPointerValues(event);"),document.write(""),document.write("          for (let i = 0; i < count; i++) {"),document.write("            this.particles.push(new PointerParticle(spread, speed, this));"),document.write("          }"),document.write("        }"),document.write(""),document.write("        setPointerValues(event) {"),document.write("          this.pointer.x = event.x - this.offsetLeft;"),document.write("          this.pointer.y = event.y - this.offsetTop;"),document.write("          this.pointer.mx = event.movementX;"),document.write("          this.pointer.my = event.movementY;"),document.write("        }"),document.write(""),document.write("        setupEvents() {"),document.write("          const parent = this.parentNode;"),document.write(""),document.write("          parent.addEventListener('click', (event) => {"),document.write("            this.createParticles(event, {"),document.write("              count: 300,"),document.write("              speed: Math.random() + 1,"),document.write("              spread: Math.random() + 50,"),document.write("            });"),document.write("          });"),document.write(""),document.write("          parent.addEventListener('pointermove', (event) => {"),document.write("            this.createParticles(event, {"),document.write("              count: 20,"),document.write("              speed: this.getPointerVelocity(event),"),document.write("              spread: 1,"),document.write("            });"),document.write("          });"),document.write(""),document.write("          window.addEventListener('resize', () => this.setCanvasDimensions());"),document.write("        }"),document.write(""),document.write("        getPointerVelocity(event) {"),document.write("          const a = event.movementX;"),document.write("          const b = event.movementY;"),document.write("          const c = Math.floor(Math.sqrt(a * a + b * b));"),document.write(""),document.write("          return c;"),document.write("        }"),document.write(""),document.write("        handleParticles() {"),document.write("          for (let i = 0; i < this.particles.length; i++) {"),document.write("            this.particles[i].update();"),document.write(""),document.write("            if (this.particles[i].size <= 0.1) {"),document.write("              this.particles.splice(i, 1);"),document.write("              i--;"),document.write("            }"),document.write("          }"),document.write("        }"),document.write(""),document.write("        setCanvasDimensions() {"),document.write("          const rect = this.parentNode.getBoundingClientRect();"),document.write(""),document.write("          this.canvas.width = rect.width;"),document.write("          this.canvas.height = rect.height;"),document.write("        }"),document.write(""),document.write("        animateParticles() {"),document.write("          requestAnimationFrame(() => this.animateParticles());"),document.write(""),document.write("          const timeNow = performance.now();"),document.write("          const timePassed = timeNow - this.timePrevious;"),document.write(""),document.write("          if (timePassed < this.msPerFrame) return;"),document.write(""),document.write("          const excessTime = timePassed % this.msPerFrame;"),document.write(""),document.write("          this.timePrevious = timeNow - excessTime;"),document.write(""),document.write("          this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);"),document.write("          this.hue = this.hue > 360 ? 0 : (this.hue += 3);"),document.write(""),document.write("          this.handleParticles();"),document.write("        }"),document.write("      }"),document.write(""),document.write("      PointerParticles.register();"),document.write("    <\/script>"),document.write("  </body>"),document.write("<html>");
function getbbdata(){var bbsurl=bbShortApiUrl,httpRequest=new XMLHttpRequest;httpRequest.open("GET",bbsurl,!0),httpRequest.send(),httpRequest.onreadystatechange=function(){if(4==httpRequest.readyState&&200==httpRequest.status){var json=httpRequest.responseText,obj=eval("("+json+")");let bbArray=obj.data.map(e=>({date:e.date,content:e.content,from:e.from})),data=(saveToLocal.set("zhheo-bb",JSON.stringify(bbArray),5/1440),saveToLocal.get("zhheo-bb"));generateBBHtml(JSON.parse(data))}}}var generateBBHtml=t=>{var e=document.querySelector("#bber-talk"),a="";if(t.length)for(let e=0;e<t.length;e++)a+=`<div class='li-style swiper-slide'>${t[e].content.replace(/(https?:[^:<>"]*\/)([^:<>"]*)(\.((png!thumbnail)|(png)|(jpg)|(webp)|(jpeg)|(gif)))/g," [图片] ")}</div>`;else a+='!{_p("aside.card_funds.zero")}';(e=document.querySelector("#bber-talk")).innerHTML=a,window.lazyLoadInstance&&window.lazyLoadInstance.update(),window.pjax&&window.pjax.refresh(e),new Swiper(".swiper-container",{direction:"vertical",loop:!0,autoplay:{delay:3e3,disableOnInteraction:!0,pauseOnMouseEnter:!0}})},bbInit=()=>{var e;document.querySelector("#bber-talk")&&((e=saveToLocal.get("zhheo-bb"))?generateBBHtml(JSON.parse(e)):getbbdata())};bbInit(),document.addEventListener("pjax:complete",bbInit);
let rmf={showRightMenu:function(e,t,n){var o=$("#rightMenu");o.hide(),o.css("top",t+"px").css("left",n+"px"),e?o.show():o.hide()},switchDarkMode:function(){"light"==("dark"===document.documentElement.getAttribute("data-theme")?"dark":"light")?(activateDarkMode(),saveToLocal.set("theme","dark",2),void 0!==GLOBAL_CONFIG.Snackbar&&btf.snackbarShow(GLOBAL_CONFIG.Snackbar.day_to_night)):(activateLightMode(),saveToLocal.set("theme","light",2),void 0!==GLOBAL_CONFIG.Snackbar&&btf.snackbarShow(GLOBAL_CONFIG.Snackbar.night_to_day)),"function"==typeof utterancesTheme&&utterancesTheme(),"object"==typeof FB&&window.loadFBComment(),window.DISQUS&&document.getElementById("disqus_thread").children.length&&setTimeout(()=>window.disqusReset(),200)},switchReadMode:function(){let t=document.body,n=(t.classList.add("read-mode"),document.createElement("button"));n.type="button",n.className="fas fa-sign-out-alt exit-readmode",t.appendChild(n),n.addEventListener("click",function e(){t.classList.remove("read-mode"),n.remove(),n.removeEventListener("click",e)})},copySelect:function(){document.execCommand("Copy",!1,null)},scrollToTop:function(){btf.scrollToDest(0,500)}},pageX,pageY;navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)||(window.oncontextmenu=function(e){$(".rightMenu-group.hide").hide(),document.getSelection().toString()&&$("#menu-text").show(),pageX=e.clientX+10,pageY=e.clientY;var e=$("#rightMenu").width(),t=$("#rightMenu").height();return pageX+e>window.innerWidth&&(pageX-=e+10),pageY+t>window.innerHeight&&(pageY-=pageY+t-window.innerHeight),rmf.showRightMenu(!0,pageY,pageX),!1},window.addEventListener("click",function(){rmf.showRightMenu(!1,pageX,pageY)}));
var nnnnew=document.createElement("div");nnnnew.setAttribute("id","rightMenu"),nnnnew.setAttribute("style","display: none"),nnnnew.innerHTML='<div class="rightMenu-group rightMenu-small"><a class="rightMenu-item" href="javascript:window.history.back();" data-pjax-state=""><i class="fa-solid fa-arrow-left"></i> </a><a class="rightMenu-item" href="javascript:window.location.reload();" data-pjax-state=""><i class="fa-solid fa-arrow-rotate-right"></i> </a><a class="rightMenu-item" href="javascript:window.history.forward();" data-pjax-state=""><i class="fa-solid fa-arrow-right"></i> </a><a class="rightMenu-item" id="menu-radompage" href="javascript:window.location.href = window.location.origin;" data-pjax-state=""><i class="fa-solid fa-house"></i></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-text" style="display:none"><a class="rightMenu-item" href="javascript:rmf.copySelect();" data-pjax-state=""><i class="fa-solid fa-copy"></i> <span>复制</span></a></div><div class="rightMenu-group rightMenu-line"><a class="rightMenu-item" href="javascript:rmf.switchDarkMode();" data-pjax-state=""><i class="fa-solid fa-circle-half-stroke"></i> <span>昼夜模式</span></a></div><div class="rightMenu-group rightMenu-line"><a class="rightMenu-item" href="javascript:window.location.href = window.location.origin + \'/categories/\';" data-pjax-state=""><i class="fa-solid fa-book"></i> <span>博客分类</span> </a><a class="rightMenu-item" href="javascript:window.location.href = window.location.origin + \'/tags/\';" data-pjax-state=""><i class="fa-solid fa-tags"></i> <span>博客标签</span></a></div><div class="rightMenu-group rightMenu-line"><a class="rightMenu-item" href="javascript:window.location.href = window.location.origin + \'/about-website/\';" data-pjax-state=""><i class="fa-solid fa-envelope-open-text"></i> <span>网站声明</span></a></div><div class="rightMenu-group rightMenu-line"><a class="rightMenu-item" href="javascript:window.location.reload(true);" data-pjax-state=""><i class="fa-solid fa-arrow-rotate-right"></i> <span>ctrl + F5</span></a></div>',document.body.appendChild(nnnnew);
function dark(){window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;var s,n,t,h,i=.05,e=document.getElementById("universe"),a=!0,o="226,225,224",r=[];function d(){s=window.innerWidth,n=window.innerHeight,t=.216*s,e.setAttribute("width",s),e.setAttribute("height",n)}function c(){h.clearRect(0,0,s,n);for(var t=r.length,i=0;i<t;i++){var e=r[i];e.move(),e.fadeIn(),e.fadeOut(),e.draw()}}function f(){this.reset=function(){this.giant=u(3),this.comet=!this.giant&&!a&&u(10),this.x=m(0,s-10),this.y=m(0,n),this.r=m(1.1,2.6),this.dx=m(i,6*i)+(this.comet+1-1)*i*m(50,120)+.1,this.dy=-m(i,6*i)-(this.comet+1-1)*i*m(50,120),this.fadingOut=null,this.fadingIn=!0,this.opacity=0,this.opacityTresh=m(.2,1-.4*(this.comet+1-1)),this.do=m(5e-4,.002)+.001*(this.comet+1-1)},this.fadeIn=function(){this.fadingIn&&(this.fadingIn=!(this.opacity>this.opacityTresh),this.opacity+=this.do)},this.fadeOut=function(){this.fadingOut&&(this.fadingOut=!(this.opacity<0),this.opacity-=this.do/2,this.x>s||this.y<0)&&(this.fadingOut=!1,this.reset())},this.draw=function(){if(h.beginPath(),this.giant)h.fillStyle="rgba(180,184,240,"+this.opacity+")",h.arc(this.x,this.y,2,0,2*Math.PI,!1);else if(this.comet){h.fillStyle="rgba("+o+","+this.opacity+")",h.arc(this.x,this.y,1.5,0,2*Math.PI,!1);for(var t=0;t<30;t++)h.fillStyle="rgba("+o+","+(this.opacity-this.opacity/20*t)+")",h.rect(this.x-this.dx/4*t,this.y-this.dy/4*t-2,2,2),h.fill()}else h.fillStyle="rgba(226,225,142,"+this.opacity+")",h.rect(this.x,this.y,this.r,this.r);h.closePath(),h.fill()},this.move=function(){this.x+=this.dx,this.y+=this.dy,!1===this.fadingOut&&this.reset(),(this.x>s-s/4||this.y<0)&&(this.fadingOut=!0)},setTimeout(function(){a=!1},50)}function u(t){return Math.floor(1e3*Math.random())+1<10*t}function m(t,i){return Math.random()*(i-t)+t}d(),window.addEventListener("resize",d,!1),h=e.getContext("2d");for(var y=0;y<t;y++)r[y]=new f,r[y].reset();c(),function t(){"dark"==document.getElementsByTagName("html")[0].getAttribute("data-theme")&&c(),window.requestAnimationFrame(t)}()}dark();