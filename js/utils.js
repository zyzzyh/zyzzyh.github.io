let btf={debounce:(n,o=0,a=!1)=>{let i;return(...e)=>{var t=a&&!i;clearTimeout(i),i=setTimeout(()=>{i=null,a||n(...e)},o),t&&n(...e)}},throttle:function(o,a,i={}){let l,r,d,s=0,c=()=>{s=!1===i.leading?0:(new Date).getTime(),l=null,o.apply(r,d),l||(r=d=null)};return(...e)=>{var t=(new Date).getTime(),n=(s||!1!==i.leading||(s=t),a-(t-s));r=this,d=e,n<=0||a<n?(l&&(clearTimeout(l),l=null),s=t,o.apply(r,d),l||(r=d=null)):l||!1===i.trailing||(l=setTimeout(c,n))}},sidebarPaddingR:()=>{var e=window.innerWidth,t=document.body.clientWidth;e!==t&&(document.body.style.paddingRight=e-t+"px")},snackbarShow:(e,t=!1,n=2e3)=>{var{position:o,bgLight:a,bgDark:i}=GLOBAL_CONFIG.Snackbar,a="light"===document.documentElement.getAttribute("data-theme")?a:i;Snackbar.show({text:e,backgroundColor:a,showAction:t,duration:n,pos:o,customClass:"snackbar-css"})},diffDate:(e,t=!1)=>{var n,o,a,i=new Date,e=new Date(e),i=i.getTime()-e.getTime(),l=864e5,r=GLOBAL_CONFIG.dateSuffix;return t?(t=i/l,o=i/36e5,a=i/6e4,12<(n=i/2592e6)?e.toISOString().slice(0,10):1<=n?parseInt(n)+" "+r.month:1<=t?parseInt(t)+" "+r.day:1<=o?parseInt(o)+" "+r.hour:1<=a?parseInt(a)+" "+r.min:r.just):parseInt(i/l)},loadComment:(e,n)=>{if("IntersectionObserver"in window){let t=new IntersectionObserver(e=>{e[0].isIntersecting&&(n(),t.disconnect())},{threshold:[0]});t.observe(e)}else n()},scrollToDest:(o,a=500)=>{let i=window.pageYOffset;var e=document.getElementById("page-header").classList.contains("fixed");if((i>o||e)&&(o-=70),"scrollBehavior"in document.documentElement.style)window.scrollTo({top:o,behavior:"smooth"});else{let n=null;o=+o,window.requestAnimationFrame(function e(t){t-=n=n||t;i<o?window.scrollTo(0,(o-i)*t/a+i):window.scrollTo(0,i-(i-o)*t/a),t<a?window.requestAnimationFrame(e):window.scrollTo(0,o)})}},animateIn:(e,t)=>{e.style.display="block",e.style.animation=t},animateOut:(t,e)=>{t.addEventListener("animationend",function e(){t.style.display="",t.style.animation="",t.removeEventListener("animationend",e)}),t.style.animation=e},wrap:(e,t,n)=>{var o,a,i=document.createElement(t);for([o,a]of Object.entries(n))i.setAttribute(o,a);e.parentNode.insertBefore(i,e),i.appendChild(e)},isHidden:e=>0===e.offsetHeight&&0===e.offsetWidth,getEleTop:e=>{let t=e.offsetTop,n=e.offsetParent;for(;null!==n;)t+=n.offsetTop,n=n.offsetParent;return t},loadLightbox:e=>{var t=GLOBAL_CONFIG.lightbox;"mediumZoom"===t&&mediumZoom(e,{background:"var(--zoom-bg)"}),"fancybox"===t&&(Array.from(e).forEach(e=>{var t,n;"A"!==e.parentNode.tagName&&(t=e.dataset.lazySrc||e.src,n=e.title||e.alt||"",btf.wrap(e,"a",{href:t,"data-fancybox":"gallery","data-caption":n,"data-thumb":t}))}),window.fancyboxRun||(Fancybox.bind("[data-fancybox]",{Hash:!1,Thumbs:{showOnStart:!1},Images:{Panzoom:{maxScale:4}},Carousel:{transition:"slide"},Toolbar:{display:{left:["infobar"],middle:["zoomIn","zoomOut","toggle1to1","rotateCCW","rotateCW","flipX","flipY"],right:["slideshow","thumbs","close"]}}}),window.fancyboxRun=!0))},setLoading:{add:e=>{e.insertAdjacentHTML("afterend",`
        <div class="loading-container">
          <div class="loading-item">
            <div></div><div></div><div></div><div></div><div></div>
          </div>
        </div>
      `)},remove:e=>{e.nextElementSibling.remove()}},updateAnchor:e=>{var t;e!==window.location.hash&&(e=e||location.pathname,t=GLOBAL_CONFIG_SITE.title,window.history.replaceState({url:location.href,title:t},t,e))},getScrollPercent:(e,t)=>{var n=t.clientHeight,o=document.documentElement.clientHeight,n=o<n?n-o:document.documentElement.scrollHeight-o,o=Math.round(100*((e-t.offsetTop)/n));return 100<o?100:o<=0?0:o},addGlobalFn:(e,t,n=!1,o=window)=>{var a=o.globalFn||{},i=a[e]||{};n&&i[n]||(i[n=n||Object.keys(i).length]=t,a[e]=i,o.globalFn=a)},addEventListenerPjax:(e,t,n,o=!1)=>{e.addEventListener(t,n,o),btf.addGlobalFn("pjax",()=>{e.removeEventListener(t,n,o)})},removeGlobalFnEvent:(e,t=window)=>{var{globalFn:n={}}=t;let o=n[e]||{};n=Object.keys(o);n.length&&(n.forEach(e=>{o[e]()}),delete t.globalFn[e])}};