<!DOCTYPE html><html lang="zh-CN" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"><title>zzzyyyyhhhhh - z_y_h_y_z_y_h_y_z_y_h_y_z_y_h_y_z_y_h_y_z_y_h_y_z_y_h_y_z_y_h_y_z_y_h_y_z_y_h_y_z</title><meta name="author" content="zyzzyh"><meta name="copyright" content="zyzzyh"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta name="description" content="喜欢小朋友的奶龙你们好啊！"><meta property="og:type" content="website"><meta property="og:title" content="zzzyyyyhhhhh"><meta property="og:url" content="https://zyzzyh.github.io/page/2/index.html"><meta property="og:site_name" content="zzzyyyyhhhhh"><meta property="og:description" content="喜欢小朋友的奶龙你们好啊！"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://zyzzyh.github.io/img/solution1.png"><meta property="article:author" content="zyzzyh"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://zyzzyh.github.io/img/solution1.png"><link rel="shortcut icon" href="/img/solution0.png"><link rel="canonical" href="https://zyzzyh.github.io/page/2/index.html"><link rel="preconnect"><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="/pluginsSrc/@fortawesome/fontawesome-free/css/all.min.css?v=6.5.1"><link rel="stylesheet" href="/pluginsSrc/node-snackbar/dist/snackbar.min.css?v=0.1.16" media="print" onload='this.media="all"'><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:"ca-pub-6104155681479243",enable_page_level_ads:"false"})</script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: zyzzyh","link":"链接: ","source":"来源: zzzyyyyhhhhh","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'null',
  Snackbar: {"chs_to_cht":"你已切换为繁体中文","cht_to_chs":"你已切换为简体中文","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"top-center"},
  infinitegrid: {
    js: '/pluginsSrc/@egjs/infinitegrid/dist/infinitegrid.min.js?v=4.11.1',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"zzzyyyyhhhhh",isPost:!1,isHome:!0,isHighlightShrink:!0,isToc:!1,postUpdate:"2024-10-10 17:22:35"}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#fff837')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/css/aio.css"><meta name="generator" content="Hexo 7.3.0"></head><body><script>window.paceOptions = {
  restartOnPushState: false
}

document.addEventListener('pjax:send', () => {
  Pace.restart()
})</script><link rel="stylesheet" href="/zyhcss/loading-bar.css"><script src="/pluginsSrc/pace-js/pace.min.js?v=1.2.4"></script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/solution1.png" onerror='onerror=null,src="/img/friend_404.gif"' alt="avatar"></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">30</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">10</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><hr class="custom-hr"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>首页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-archive"></i> <span>文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>时间轴</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>分类</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i> <span>友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i> <span>关于</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="not-top-img fixed" id="page-header"><nav id="nav"><span id="blog-info"><a href="/" title="zzzyyyyhhhhh"><span class="site-name">zzzyyyyhhhhh</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i> <span>搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>首页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-archive"></i> <span>文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>时间轴</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>分类</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i> <span>友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i> <span>关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2024/09/11/%E9%A2%98%E8%A7%A3%EF%BC%9AP4959%20%5BCOCI2017-20186%5D%20Cover/" title="题解：P4959_[COCI2017-2018#6]_Cover"><img class="post-bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/littlemare1.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="题解：P4959_[COCI2017-2018#6]_Cover"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/09/11/%E9%A2%98%E8%A7%A3%EF%BC%9AP4959%20%5BCOCI2017-20186%5D%20Cover/" title="题解：P4959_[COCI2017-2018#6]_Cover">题解：P4959_[COCI2017-2018#6]_Cover</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-09-10T16:00:00.000Z" title="发表于 2024-09-11 00:00:00">2024-09-11</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-10-02T13:14:11.774Z" title="更新于 2024-10-02 21:14:11">2024-10-02</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%A2%98%E8%A7%A3/">题解</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E9%A2%98%E8%A7%A3/">题解</a></span></div><div class="content">发现可以将所有点转换到第一象限上，这样问题就转化成了选定一些矩形覆盖所有的点，矩形的一个顶点位于原点。发现一些点具有如下性质，覆盖这个点的矩形一定覆盖到其他几个点，如覆盖 $A(10,10)$ 就一定会覆盖 $B(1,1)$ 此时像 $B$ 这样的点就可以不考虑，最后要考虑的点形成一个二维偏序形式，对于点 $i$ 有 $ x_{i+1}&gt;x_i,y_{i+1}&lt;y_i$，称要考虑的点为关键点，对这些点按横坐标排序。 然后就可以设计 dp 状态了，设 $f_i$ 表示区间 $[i,n]$ 的关键点都被覆盖，其余关键点没被覆盖的答案，转移是每次枚举一个高度 $y$ 并用 $f_{i+1}$ 加上 $y\times x_i$ 更新 $f_j$ ，下标为 $j$ 的点是第一个纵坐标值小于等于 $y$ 的点。 注意离散化。 code: 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/09/08/%E4%BC%9A%E6%9C%89%E4%BA%BA%E6%9D%A5%E7%9C%8B%E5%90%97/" title="会有人来看吗"><img class="post-bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/littlemare.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="会有人来看吗"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/09/08/%E4%BC%9A%E6%9C%89%E4%BA%BA%E6%9D%A5%E7%9C%8B%E5%90%97/" title="会有人来看吗">会有人来看吗</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-09-07T16:00:00.000Z" title="发表于 2024-09-08 00:00:00">2024-09-08</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-10-04T08:33:40.009Z" title="更新于 2024-10-04 16:33:40">2024-10-04</time></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/oi/">oi</a></span></div><div class="content">7caa0bdedb43aafa2821cf1ee98a3fe9d44ffe04642abe648feb2320bca2b18f976e3fa9c15e2cfa81f5cd7859fd96c51677f1417d44cf9c00281e613506830ff4571a97bbdf42eed2fda8d287b22f30f1bed5a82f6598b47d0874f6d3bcbc5558778c92d0603aa803afa6db0aeedad3638c9dd0665ebfb995b04a16c944b6c68071cdd6cf73a6953ca94ab1ba77b251e88a8abc7f8a82bc465d6471e27bb76d45693cb36108c41054db4630e425477d3d1a0e3626237998adbf0ec3115a2dece4efb9259e8a3fcd157aeba2d66fd7bc35ba6cb0efce23c8a6e373b95bf2cbd6495d6cd1b4b1071cc9dda4276ed6526bcabeb617c86e34b31 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/09/06/%E9%A2%98%E8%A7%A3%EF%BC%9AAT_joisc2015_i%20%E3%81%A8%E3%81%A6%E3%82%82%E3%81%9F%E3%81%AE%E3%81%97%E3%81%84%E3%82%AB%E3%83%BC%E3%83%89%E3%82%B2%E3%83%BC%E3%83%A0/" title="题解：AT_joisc2015_i_とてもたのしいカードゲーム"><img class="post-bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/littlemare1.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="题解：AT_joisc2015_i_とてもたのしいカードゲーム"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/09/06/%E9%A2%98%E8%A7%A3%EF%BC%9AAT_joisc2015_i%20%E3%81%A8%E3%81%A6%E3%82%82%E3%81%9F%E3%81%AE%E3%81%97%E3%81%84%E3%82%AB%E3%83%BC%E3%83%89%E3%82%B2%E3%83%BC%E3%83%A0/" title="题解：AT_joisc2015_i_とてもたのしいカードゲーム">题解：AT_joisc2015_i_とてもたのしいカードゲーム</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-09-05T16:00:00.000Z" title="发表于 2024-09-06 00:00:00">2024-09-06</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-10-02T13:14:06.098Z" title="更新于 2024-10-02 21:14:06">2024-10-02</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%A2%98%E8%A7%A3/">题解</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E9%A2%98%E8%A7%A3/">题解</a></span></div><div class="content">挺不错的一道题，但校内 oj 空间只开了 512 MB ，赛时虽然有勇气写出正解的思路，但只能通过开小数组获得部分分。 数据范围一眼 $n^3$ dp 。因为只会取走当前第三张牌以上的牌，且这样的牌最多只有两张，很容易想到分别记录第一，二，三张牌位置作为状态，发现不好转移，于是增设一维状态，用 0 1 2 表示能不能选当前的第一张和能不能选当前的第三张，以及是否可以都选。 发现状态数很少，适合使用记忆化搜索。 考虑状态转移，如果当前选第一张，那么第二张变成第一张，第三张变成第二张，第三张后面一张变成第三张，即： $$f_{x,y,z}&#x3D;f_{y,z,z+1}+v_x$$ 如果选第三张同理，即: $$f_{x,y,z}&#x3D;f_{x,y,z+1}+v_z$$ 用辅助函数 to 计算下次能不能选第一张和第三张。 空间卡的很死，再大就不能过编了。 code 1234567891011121314151617181920212223242526272829303132333435363738394041#include&lt;bits/stdc++.h&gt;using nam ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/09/06/%E9%A2%98%E8%A7%A3%EF%BC%9AP6345_%5BCCO2017%5D_%E6%8E%A5%E9%9B%A8%E6%BB%B4/" title="题解：P6345_[CCO2017_接雨滴"><img class="post-bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/littlemare.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="题解：P6345_[CCO2017_接雨滴"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/09/06/%E9%A2%98%E8%A7%A3%EF%BC%9AP6345_%5BCCO2017%5D_%E6%8E%A5%E9%9B%A8%E6%BB%B4/" title="题解：P6345_[CCO2017_接雨滴">题解：P6345_[CCO2017_接雨滴</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-09-05T16:00:00.000Z" title="发表于 2024-09-06 00:00:00">2024-09-06</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-10-02T13:14:20.807Z" title="更新于 2024-10-02 21:14:20">2024-10-02</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%A2%98%E8%A7%A3/">题解</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E9%A2%98%E8%A7%A3/">题解</a></span></div><div class="content">首先发现可以把一些柱子放在右侧形成一个递减序列从而使这些柱子对答案没有贡献。 考虑每个柱子可以接到多少雨，第 $i$ 根柱子，这根柱子上方接到雨量为 $\min{ \displaystyle\max _{j&#x3D;0}^ih_j, \displaystyle\max _{j&#x3D;i}^nh_j }$。 因为每根柱子都可以插入在任意两根柱子中间（如果第 $i$ 根柱子要插入的柱子左右两边已经有更高的柱子，就用这个柱子替换掉那根柱子，这样对于答案的变化量是相同的，所以不影响最终答案）所以第 $i$ 根柱子可能接到雨量为 ${h_j-h_i | h_j &gt; h_i,j\in [1,n]} \cup {0} $,然后枚举柱子进行背包转移就可以了，这种做法是 $O(n^2\times v^2)$ 的。 写出后发现转移式子中有一步是一个序列或上另一个序列左移 $x$ 位，可以 bitset 优化，于是最终复杂度为 $O(\frac{n^2\times v^2}{w})$。 1234567891011121314151617181920212223242526272829303132 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/08/22/%E9%A2%98%E8%A7%A3%EF%BC%9AAT_codefestival_2016_final_f%20Road%20of%20the%20King/" title="题解:AT_codefestival_2016_final_f_Road_of_the_King"><img class="post-bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/littlemare.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="题解:AT_codefestival_2016_final_f_Road_of_the_King"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/08/22/%E9%A2%98%E8%A7%A3%EF%BC%9AAT_codefestival_2016_final_f%20Road%20of%20the%20King/" title="题解:AT_codefestival_2016_final_f_Road_of_the_King">题解:AT_codefestival_2016_final_f_Road_of_the_King</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-08-21T16:00:00.000Z" title="发表于 2024-08-22 00:00:00">2024-08-22</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-10-02T13:13:55.125Z" title="更新于 2024-10-02 21:13:55">2024-10-02</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%A2%98%E8%A7%A3/">题解</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E9%A2%98%E8%A7%A3/">题解</a></span></div><div class="content">神仙 dp 题，蒟蒻不会做。 首先想到这是一个 $n^3$ 的 dp 。怎么想到的？当然是看数据范围了。显然，按照惯例，第一维大概率是走到了第几步。然后就不会了。不会也不能开摆，还是继续想吧。首先发现每个点都是等价的，且记录每个点的状态是很不现实的，于是我们只能考虑还存在那些状态是可以使用的。思考一圈后，发现只有 有多少点在（包含 $1$ 号点的）强连通分量中 和 走过多少点（重复经过算一次）是有用的，于是把它们加入状态。这样，我们就“凑”出了一个 $n^3$ 的 dp 。 既然状态都有了，那就考虑转移吧。发现这个状态更适合用刷表法（一定不是因为官方题解是这么干的）。先考虑第一种情况，将一个走过但不在包含 $1$ 号点的强连通分量的点加入强连通分量： $$ f_{i+1,j,k}\gets f_{i,j,k}\times (k-j) $$有 $k-j$ 个点不在有 $1$ 的强连通分量 如果没走过下一个点 $$f_{i+1,j,k+1}\gets f_{i,j,k}\times (n-k) $$剩下 $n-k$ 个点为走过 第三种情况，也是不太好想到的一种，如果下一个点在包含 $1$ ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/08/19/%E9%A2%98%E8%A7%A3%EF%BC%9AP4983_%E5%BF%98%E6%83%85/" title="P4983_忘情"><img class="post-bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/littlemare1.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="P4983_忘情"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/08/19/%E9%A2%98%E8%A7%A3%EF%BC%9AP4983_%E5%BF%98%E6%83%85/" title="P4983_忘情">P4983_忘情</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-08-18T16:00:00.000Z" title="发表于 2024-08-19 00:00:00">2024-08-19</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-10-02T13:14:14.977Z" title="更新于 2024-10-02 21:14:14">2024-10-02</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%A2%98%E8%A7%A3/">题解</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E9%A2%98%E8%A7%A3/">题解</a></span></div><div class="content">wqs二分和斜率优化已经不知道学了多少遍了，还是要写篇题解才能加深印象。 首先拆式子$$w&#x3D;sum\times sum+2\times sum+1$$ $$w&#x3D;(s_i-s_{k-1})*(s_i-s_{k-1})+2\times (s_i-s_{k-1})+1$$ $$w&#x3D;s_i^2-2\times s_i\times s_{k-1}+s_{k-1}^2+2\times s_i-2\times s_{k-1}+1$$ $$s_i^2+2\times s_i+1不变$$ $$d&#x3D;s_{k-1}^2-2\times s_{k-1}$$ $$k&#x3D;2\times s_{k-1}$$ $$x&#x3D;s_i$$ 可以斜率优化 但，wqs二分呢？</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/08/13/%E9%A2%98%E8%A7%A3%EF%BC%9AP7537_%5BCOCI2016-20174%5D_Rima/" title="题解：P7537_[COCI2016-2017#4]_Rima"><img class="post-bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/littlemare.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="题解：P7537_[COCI2016-2017#4]_Rima"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/08/13/%E9%A2%98%E8%A7%A3%EF%BC%9AP7537_%5BCOCI2016-20174%5D_Rima/" title="题解：P7537_[COCI2016-2017#4]_Rima">题解：P7537_[COCI2016-2017#4]_Rima</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-08-12T16:00:00.000Z" title="发表于 2024-08-13 00:00:00">2024-08-13</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-10-02T13:14:23.758Z" title="更新于 2024-10-02 21:14:23">2024-10-02</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%A2%98%E8%A7%A3/">题解</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E9%A2%98%E8%A7%A3/">题解</a></span></div><div class="content">整体思路其他题解已经说的差不多了，本题解着重说一个细节问题。 首先建一棵后缀 trie ，记录每个串在树上结束的位置，这样树上每个节点（记为 $u$ ）的子树结束的串都拥有一个共同后缀（即 $u$ 到根节点所代表的串）。设 $f_i$ 表示以 $i$ 为根的最大答案，也就是答案序列中所有串都有相同后缀为 $i$ 到根节点代表的串。考虑转移，首先对于子节点，如果有串在这个点结束，可以直接继承答案，用字符串表示为 LCS +letter 与 LCS 连接（LCS 表示公共后缀），前面的序列不变。对于在其他子节点结束的串，答案加上这些串的数量（也就是则插入这些串，即 LCS+letter 与 LCS+otherletter 连接，再和 LCS 连接。）树形 dp 解决即可。 然后你写完了，信心满满地交了上去，却发现只有 $56$ 分。为什么呢？考虑下面一组数据 12345qpmpmmnmcnm 发现可以选择整个序列，但答案只统计了下面图圈出点的答案。 这是因为实际序列中字符串长度是可以先减再增的，可我们只能统计上单调减的答案。所以对于每个节点，在用这个节点更新答案时需要继承两棵最大子树 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/08/12/%E9%A2%98%E8%A7%A3%EF%BC%9AP10862_%5BHBCPC2024%5D_Spicy_or_Grilled/" title="P10862_[HBCPC2024]_Spicy_or_Grilled?"><img class="post-bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/littlemare1.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="P10862_[HBCPC2024]_Spicy_or_Grilled?"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/08/12/%E9%A2%98%E8%A7%A3%EF%BC%9AP10862_%5BHBCPC2024%5D_Spicy_or_Grilled/" title="P10862_[HBCPC2024]_Spicy_or_Grilled?">P10862_[HBCPC2024]_Spicy_or_Grilled?</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-08-11T16:00:00.000Z" title="发表于 2024-08-12 00:00:00">2024-08-12</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-10-03T14:00:12.960Z" title="更新于 2024-10-03 22:00:12">2024-10-03</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%A2%98%E8%A7%A3/">题解</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E9%A2%98%E8%A7%A3/">题解</a></span></div><div class="content">题意有 $n$ 个人要吃汉堡，其中 $x$ 个人吃不辣的，其余吃辣的，辣堡价格为 $a$ 元，不辣的汉堡价格为 $b$ 元，求主办方要花费多少钱。 解决显然答案为 $吃辣堡的人数 \times 辣堡价格 + 吃不辣汉堡的人数 \times 不辣汉堡的价格 $。 可知吃辣堡的人数为 $n-x$。 于是答案为 $(n-x) \times a+x \times b$。 code1234567891011121314#include&quot;bits/stdc++.h&quot;using namespace std;#define int long longsigned main()&#123; int t; cin&gt;&gt;t;\\不要忘记多组数据 while(t--) &#123; int n,x,a,b; cin&gt;&gt;n&gt;&gt;x&gt;&gt;a&gt;&gt;b;\\输入 cout&lt;&lt;(n-x)*a+x*b&lt;&lt;&#x27;\n&#x27;;\\计算答案 &#125;&#125;</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/07/10/%E9%A2%98%E8%A7%A3%EF%BC%9AP3447_%5BPOI2006%5D_KRY-Crystals/" title="题解__P3447_[POI2006]_KRY-Crystals"><img class="post-bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/littlemare1.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="题解__P3447_[POI2006]_KRY-Crystals"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/07/10/%E9%A2%98%E8%A7%A3%EF%BC%9AP3447_%5BPOI2006%5D_KRY-Crystals/" title="题解__P3447_[POI2006]_KRY-Crystals">题解__P3447_[POI2006]_KRY-Crystals</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-07-09T16:00:00.000Z" title="发表于 2024-07-10 00:00:00">2024-07-10</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-10-02T13:14:08.358Z" title="更新于 2024-10-02 21:14:08">2024-10-02</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%A2%98%E8%A7%A3/">题解</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E9%A2%98%E8%A7%A3/">题解</a></span></div><div class="content">首先看到异或，自然想到由高到低从位数考虑。只需要默认高位能填则都填 1，如果高位全填 1 异或和不为 0 直接中止，否则用 dp 求出从这位开始可填 1 或 0 的方案数和全填 1 的方案数，再用可填 1 或 0 的方案数减去这位全为 1 的方案数（因为会重复计算）即可。 剩下的就是一些细节，首先再一些写法下 dp 过程会爆 long long ，所以记得开 __int128。在枚举到第 $i$ 位时，如果这位 1 的个数是偶数，需要减去全选 1 的方案数。在确定了前面的所有数时，最后一位的数也就确定了，所以不用考虑最后一个数。 其他细节见代码吧。 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253#include&quot;bits/stdc++.h&quot;using namespace std;#define int __int128//dp过程会爆long longtypedef long long ll;const int N = ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/07/03/%E9%A2%98%E8%A7%A3%EF%BC%9AP10243_%5BTHUSC_2021%5D_%E7%A7%8D%E6%A0%91%EF%BC%88%E9%80%9A%E4%BF%A1%E9%A2%98%EF%BC%8C%E6%9A%82%E6%97%A0%E6%95%B0%E6%8D%AE%EF%BC%89/" title="题解：P10243_[THUSC_2021]__种树（通信题，暂无数据）"><img class="post-bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/littlemare.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="题解：P10243_[THUSC_2021]__种树（通信题，暂无数据）"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/07/03/%E9%A2%98%E8%A7%A3%EF%BC%9AP10243_%5BTHUSC_2021%5D_%E7%A7%8D%E6%A0%91%EF%BC%88%E9%80%9A%E4%BF%A1%E9%A2%98%EF%BC%8C%E6%9A%82%E6%97%A0%E6%95%B0%E6%8D%AE%EF%BC%89/" title="题解：P10243_[THUSC_2021]__种树（通信题，暂无数据）">题解：P10243_[THUSC_2021]__种树（通信题，暂无数据）</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-07-02T16:00:00.000Z" title="发表于 2024-07-03 00:00:00">2024-07-03</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-10-02T13:14:29.998Z" title="更新于 2024-10-02 21:14:29">2024-10-02</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%A2%98%E8%A7%A3/">题解</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E9%A2%98%E8%A7%A3/">题解</a></span></div><div class="content">因为不要求还原树的标号，所以考虑 dfs 序，记进入一个节点为 $\texttt{(}$ ，从离开一个节点为 $\texttt{)}$ ，可以发现，这一定是一个合法的括号序列，证明如下，不太严谨，大家感性理解： 当只有一个节点时，显然这是一个括号序列。 当一个节点 $u$ 有 $n$ 棵子树时，此时以 $u$ 为根的子树的括号序列即为所有子树的括号序列相接，再在外面套上代表根节点的括号，于是当所有以与 $u$ 直接相连的点为根的子树 dfs 序为括号序列时，以 $u$ 为根的子树 dfs 序是括号序列。 由此可知，所有可能存在的树共有 $H_{70}$ ($H$指卡特兰数)种，这个数是小于 $2^{128}$ 的。于是用 0 表示左括号， 1 表示右括号，便可以用 __int128 编码传输，解码时模拟 dfs 还原即可。</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/04/10/20240409%E6%88%90%E9%83%BD%E9%9B%86%E8%AE%AD/" title="成都集训"><img class="post-bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/littlemare1.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="成都集训"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/04/10/20240409%E6%88%90%E9%83%BD%E9%9B%86%E8%AE%AD/" title="成都集训">成都集训</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-04-09T16:00:00.000Z" title="发表于 2024-04-10 00:00:00">2024-04-10</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-09-27T13:09:40.032Z" title="更新于 2024-09-27 21:09:40">2024-09-27</time></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E6%B8%B8%E8%AE%B0/">-游记</a></span></div><div class="content">62dc568d7543237b6f3b326f7a9507355d79e42cf115a3566cfc1745b21429cd4452d3906c0a161692f159135dd941287d486c7088309bf30a5133d6ca149bc1fee671ad15cb15637d794b85a136b76722e6a5eff31bf9397fc380407b7f7fb656670b2d098ca143718ec9537c22dca9e01f383bd9935ba6dabc853bacc802a0a45dc1a47a10c03d1e28078142971fc6f6a901bd01be213eb79ae0ecda1721e8da36652762c8a0c9a74798552857087043c3ec2935ff1baf811d5266295a29aa9bccf8fba5e5265ccf962ca126139abcecdafe51228a14235566742f309a6e053bd58fccb751a28fe234d7be13d025fe85b5d6ba5bd7d13ce ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/03/21/%E5%AE%BF%E8%88%8D%E6%97%A5%E5%BF%97/" title="宿舍日志"><img class="post-bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/littlemare.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="宿舍日志"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/03/21/%E5%AE%BF%E8%88%8D%E6%97%A5%E5%BF%97/" title="宿舍日志">宿舍日志</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-03-20T16:00:00.000Z" title="发表于 2024-03-21 00:00:00">2024-03-21</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-09-28T14:07:54.849Z" title="更新于 2024-09-28 22:07:54">2024-09-28</time></span></div><div class="content">48bf2b3dc5748a452040de3ea53899a162f7e3c14a7df3043052bde92e91c79980802bc2c40523afba377e4f4e85067f497378016ddc280244082356fcc3ab717b5962cdc5ad5258becba7f1b93e8e1be10c4cb9109eca54851c572e4dc3d195947d4b810211ee92e8b48eb49c85ec08df8216e72adf69dae55c9de679f0b9828bd888f0557b81e21e942301d1c86ee30df69d58b01892053008069b92c02af7270867076505359cb4258861f80f98f1f93a7bccbd4e784d2711c7e80d3910f21b16c5b72e451bde42ba1b6f0a4ee902644cc84f9d0dd409dacf6cd11b877e919d0457441059b63e96cdfd4572eef18ce3a2f9a858bf4699c ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/03/16/hello-world/" title="Hello_World"><img class="post-bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/littlemare1.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="Hello_World"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/03/16/hello-world/" title="Hello_World">Hello_World</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-03-15T16:00:00.000Z" title="发表于 2024-03-16 00:00:00">2024-03-16</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-09-27T13:09:44.037Z" title="更新于 2024-09-27 21:09:44">2024-09-27</time></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/tset/">-tset</a></span></div><div class="content">Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new &quot;My New Post&quot; More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/03/16/new/" title="new"><img class="post-bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/littlemare1.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="new"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/03/16/new/" title="new">new</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-03-15T16:00:00.000Z" title="发表于 2024-03-16 00:00:00">2024-03-16</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-09-25T09:54:40.416Z" title="更新于 2024-09-25 17:54:40">2024-09-25</time></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/new/">-new</a></span></div><div class="content"></div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/#content-inner">3</a><a class="extend next" rel="next" href="/page/3/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/solution1.png" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="author-info__name">zyzzyh</div><div class="author-info__description">喜欢小朋友的奶龙你们好啊！</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">30</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">10</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/zyzzyh"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/zyzzyh" target="_blank" title="Github"><i class="fab fa-github" style="color:#24292e"></i></a><a class="social-icon" href="/social/QQ" target="_blank" title="QQ"><i class="fa-brands fa-qq" style="color:#24292e"></i></a><a class="social-icon" href="mailto:zzzyyyyhhhhh@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color:#4a7dbe"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">如果你加载不了图片，记得开梯子 ,解密后需要 `ctrl + F5` 刷新</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/10/09/hash/" title="hash设计和卡hash"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/littlemare1.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="hash设计和卡hash"></a><div class="content"><a class="title" href="/2024/10/09/hash/" title="hash设计和卡hash">hash设计和卡hash</a><time datetime="2024-10-10T09:06:35.919Z" title="更新于 2024-10-10 17:06:35">2024-10-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/10/10/%E5%A5%BD%E9%A2%98/" title="好题"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/littlemare1.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="好题"></a><div class="content"><a class="title" href="/2024/10/10/%E5%A5%BD%E9%A2%98/" title="好题">好题</a><time datetime="2024-10-10T08:52:33.034Z" title="更新于 2024-10-10 16:52:33">2024-10-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/10/10/solution_P6587/" title="题解：P6587_超超的序列_加强"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/littlemare1.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="题解：P6587_超超的序列_加强"></a><div class="content"><a class="title" href="/2024/10/10/solution_P6587/" title="题解：P6587_超超的序列_加强">题解：P6587_超超的序列_加强</a><time datetime="2024-10-10T08:51:47.404Z" title="更新于 2024-10-10 16:51:47">2024-10-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/09/30/nfls/" title="nfls做题细节"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/littlemare.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="nfls做题细节"></a><div class="content"><a class="title" href="/2024/09/30/nfls/" title="nfls做题细节">nfls做题细节</a><time datetime="2024-10-09T06:59:09.173Z" title="更新于 2024-10-09 14:59:09">2024-10-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/10/03/little_nightmares/" title="little_nightmares"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/littlemare.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="little_nightmares"></a><div class="content"><a class="title" href="/2024/10/03/little_nightmares/" title="little_nightmares">little_nightmares</a><time datetime="2024-10-08T14:19:27.468Z" title="更新于 2024-10-08 22:19:27">2024-10-08</time></div></div></div></div><div class="card-widget" id="card-newest-comments"><div class="item-headline"><i class="fas fa-comment-dots"></i><span>最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div><div class="card-widget card-categories"><div class="item-headline"><i class="fas fa-folder-open"></i> <span>分类</span></div><ul class="card-category-list" id="aside-cat-list"><li class="card-category-list-item"><a class="card-category-list-link" href="/categories/oi/"><span class="card-category-list-name">-oi</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item"><a class="card-category-list-link" href="/categories/oi/"><span class="card-category-list-name">oi</span><span class="card-category-list-count">5</span></a></li><li class="card-category-list-item"><a class="card-category-list-link" href="/categories/%E6%B8%B8%E6%88%8F/"><span class="card-category-list-name">游戏</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item"><a class="card-category-list-link" href="/categories/%E9%A2%98%E8%A7%A3/"><span class="card-category-list-name">题解</span><span class="card-category-list-count">13</span></a></li></ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/%E6%B8%B8%E8%AE%B0/" style="font-size:1.15em;color:#4bbabc">-游记</a><a href="/tags/tset/" style="font-size:1.15em;color:#531ab1">-tset</a><a href="/tags/oi-%E6%97%A5%E5%B8%B8/" style="font-size:1.15em;color:#332a3d">-oi -日常</a><a href="/tags/new/" style="font-size:1.15em;color:#1b8e13">-new</a><a href="/tags/%E6%B8%B8%E6%88%8F/" style="font-size:1.15em;color:#444c46">游戏</a><a href="/tags/%E6%97%A5%E5%B8%B8/" style="font-size:1.15em;color:#29058f">日常</a><a href="/tags/oi/" style="font-size:1.35em;color:#900d34">oi</a><a href="/tags/stable-diffusion/" style="font-size:1.15em;color:#28b6bd">stable_diffusion</a><a href="/tags/%E6%95%B0%E5%AD%A6/" style="font-size:1.25em;color:#993a24">数学</a><a href="/tags/%E9%A2%98%E8%A7%A3/" style="font-size:1.45em;color:#1e0c93">题解</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/10/"><span class="card-archive-list-date">十月 2024</span><span class="card-archive-list-count">4</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/09/"><span class="card-archive-list-date">九月 2024</span><span class="card-archive-list-count">11</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/08/"><span class="card-archive-list-date">八月 2024</span><span class="card-archive-list-count">4</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/07/"><span class="card-archive-list-date">七月 2024</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/04/"><span class="card-archive-list-date">四月 2024</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/03/"><span class="card-archive-list-date">三月 2024</span><span class="card-archive-list-count">8</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">30</div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastpushdate="2024-10-10T09:22:34.987Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By zyzzyh</div><div class="framework-info"><span>框架</span> <a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题</span> <a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="/pluginsSrc/instant.page/instantpage.js?v=5.2.0" type="module"></script><script src="/pluginsSrc/vanilla-lazyload/dist/lazyload.iife.min.js?v=17.8.8"></script><script src="/pluginsSrc/node-snackbar/dist/snackbar.min.js?v=0.1.16"></script><div class="js-pjax"></div><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[图片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[链接]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[代码]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const findTrueUrl = (array) => {
    Promise.all(array.map(item =>
      fetch(item.url).then(resp => resp.json()).then(data => {
        let urlArray = data.body ? data.body.match(/(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?/ig) : []
        if (!Array.isArray(urlArray) || urlArray.length === 0) {
          urlArray = [`${data.html_url}`]
        }
        if (data.user.login === 'utterances-bot') {
          return urlArray.pop()
        } else {
          return urlArray.shift()
        }
      })
    )).then(res => {
        array = array.map((i,index)=> {
          return {
            ...i,
            url: res[index]
          }
        })

        saveToLocal.set('github-newest-comments', JSON.stringify(array), 10/(60*24))
        generateHtml(array)
    });
  }

  const getComment = () => {
    fetch('https://api.github.com/repos/zyzzyh/gitalk/issues/comments?sort=updated&direction=desc&per_page=6&page=1',{
      "headers": {
        Accept: 'application/vnd.github.v3.html+json'
      }
    })
      .then(response => response.json())
      .then(data => {
        const githubArray = data.map(item => {
          return {
            'avatar': item.user.avatar_url,
            'content': changeContent(item.body_html || item.body),
            'nick': item.user.login,
            'url': item.issue_url,
            'date': item.updated_at,
            'githubUrl': item.html_url
          }
        })
        findTrueUrl(githubArray)
      }).catch(e => {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.textContent= "无法获取评论，请确认相关配置是否正确"
      })
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'data-lazy-src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'></a>`
        }

        result += `<div class='content'>
        <a class='comment' href='${array[i].url}' title='${array[i].content}'>${array[i].content}</a>
        <div class='name'><span>${array[i].nick} / </span><time datetime="${array[i].date}">${btf.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += '没有评论'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom && ($dom.innerHTML= result)
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('github-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><canvas id="universe"></canvas><script src="/js/jquery.js"></script><script src="/js/aio.js"></script><canvas class="fireworks" mobile="true"></canvas><script src="/pluginsSrc/butterfly-extsrc/dist/fireworks.min.js?v=1.1.3"></script><script defer id="ribbon" src="/pluginsSrc/butterfly-extsrc/dist/canvas-ribbon.min.js?v=1.1.3" size="150" alpha="0.6" zindex="-1" mobile="true" data-click="true"></script><script defer id="fluttering_ribbon" mobile="true" src="/pluginsSrc/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js?v=1.1.3"></script><script src="/pluginsSrc/butterfly-extsrc/dist/activate-power-mode.min.js?v=1.1.3"></script><script>POWERMODE.colorful=!0,POWERMODE.shake=!0,POWERMODE.mobile=!0,document.body.addEventListener("input",POWERMODE)</script><script id="click-show-text" src="/pluginsSrc/butterfly-extsrc/dist/click-show-text.min.js?v=1.1.3" data-mobile="false" data-text="Luck_1,Luck_2,Luck_3,Luck_4,Luck_5,Luck_6,Luck_7,Luck_8,Luck_9,Luck_FULL" data-fontsize="20px" data-random="true" async></script><script src="/pluginsSrc/pjax/pjax.min.js?v=0.2.8"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener
  btf.removeGlobalFnEvent('pjax')
  btf.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i> <span>数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"></div></div><hr><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=4.13.0"></script></div></div><script data-pjax>if(document.getElementById("recent-posts")&&(location.pathname,1)){var parent=document.getElementById("recent-posts"),child='<div class="recent-post-item" style="width:100%;height: auto"><div id="catalog_magnet"><div class="magnet_item"><a class="magnet_link" href="https://zyzzyh.github.io/categories/题解/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">📚 题解 (13)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://zyzzyh.github.io/categories/游戏/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🎮 游戏 (2)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://zyzzyh.github.io/categories/oi/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">👩‍💻 oi (5)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item" style="visibility: hidden"></div><a class="magnet_link_more"  href="https://zyzzyh.github.io/categories" style="flex:1;text-align: center;margin-bottom: 10px;">查看更多...</a></div></div>';console.log("已挂载magnet"),parent.insertAdjacentHTML("afterbegin",child)}</script><style>#catalog_magnet{flex-wrap:wrap;display:flex;width:100%;justify-content:space-between;padding:10px 10px 0 10px;align-content:flex-start}.magnet_item{flex-basis:calc(50% - 5px);background:#f2f2f2;margin-bottom:10px;border-radius:8px;transition:all .2s ease-in-out}.magnet_item:hover{background:#b30070}.magnet_link_more{color:#555}.magnet_link{color:#000}.magnet_link:hover{color:#fff}@media screen and (max-width:600px){.magnet_item{flex-basis:100%}}.magnet_link_context{display:flex;padding:10px;font-size:16px;transition:all .2s ease-in-out}.magnet_link_context:hover{padding:10px 20px}</style><style></style></body></html>