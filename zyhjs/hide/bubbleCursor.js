function bubbleCursor(e){let i=e&&e.element,n=i||document.body,t=window.innerWidth,o=window.innerHeight,s=(t,t,o,o,{x:t/2,y:t/2}),h=[],a,r,c,d=new Image,l=(d.src="/img/cursor_effect.png",[]),m=window.matchMedia("(prefers-reduced-motion: reduce)");function u(){m.matches?console.log("This browser has prefers reduced motion turned on, so the cursor did not init"):(a=document.createElement("canvas"),r=a.getContext("2d"),a.style.top="0px",a.style.left="0px",a.style.pointerEvents="none",i?(a.style.position="absolute",n.appendChild(a),a.width=n.clientWidth,a.height=n.clientHeight):(a.style.position="fixed",document.body.appendChild(a),a.width=t,a.height=o),n.addEventListener("mousemove",v),n.addEventListener("touchmove",p,{passive:!0}),n.addEventListener("touchstart",p,{passive:!0}),window.addEventListener("resize",f),w())}function f(e){t=window.innerWidth,o=window.innerHeight,i?(a.width=n.clientWidth,a.height=n.clientHeight):(a.width=t,a.height=o)}function p(t){if(0<t.touches.length)for(let e=0;e<t.touches.length;e++)g(t.touches[e].clientX,t.touches[e].clientY,l[Math.floor(Math.random()*l.length)])}function v(e){var t;i?(t=n.getBoundingClientRect(),s.x=e.clientX-t.left,s.y=e.clientY-t.top):(s.x=e.clientX,s.y=e.clientY);for(let e=0;e<500;e++)g(s.x,s.y)}function g(e,t,i){h.push(new x(e,t,i))}function w(){if(0!=h.length){r.clearRect(0,0,t,o);for(let e=0;e<h.length;e++)h[e].update(r);for(let e=h.length-1;0<=e;e--)h[e].lifeSpan<0&&h.splice(e,1);0==h.length&&r.clearRect(0,0,t,o)}c=requestAnimationFrame(w)}function y(){a.remove(),cancelAnimationFrame(c),n.removeEventListener("mousemove",v),n.removeEventListener("touchmove",p),n.removeEventListener("touchstart",p),window.addEventListener("resize",f)}function x(e,t,i){var n=Math.floor(10*Math.random()+10);this.initialLifeSpan=n,this.lifeSpan=n,this.velocity={x:(Math.random()<.5?-1:1)*(Math.random()/10+.1),y:(-.4*Math.random()-.1)*(Math.random()<.5?-1:1)},this.position={x:e,y:t},this.canv=i,this.baseDimension=4,this.scalesize=Math.random()+1.2,this.update=function(e){this.position.x+=this.velocity.x,this.position.y+=this.velocity.y,this.velocity.x+=(Math.random()<.5?-1:1)*Math.random()/600,this.velocity.y+=(Math.random()<.5?-1:1)*Math.random()/600,this.lifeSpan--;var t=(.3+(this.initialLifeSpan-this.lifeSpan)/this.initialLifeSpan)*this.scalesize;e.drawImage(d,this.position.x,this.position.y,this.baseDimension*t,this.baseDimension*t)}}return m.onchange=()=>{(m.matches?y:u)()},u(),{destroy:y}}new bubbleCursor;